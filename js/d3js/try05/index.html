<!DOCTYPE html>

<html >
<head >
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
    <title >d3js try05 - JS math</title>
    <script type="text/javascript" src="../d3.v2.js"></script>
    <script type="text/javascript" src="../jquery.js"></script>
    <style>
      body {
        font: 10px sans-serif;
      }
    </style>            
</head>
<body> 
    <h1>d3js try05 - JS math </h1>    
    <p>JS math </p>

    

    <script type="text/javascript">
    

    // Math的例子
    // Math.sin(30/180*Math.PI)

    h     = 100;    //bar的高度
    angle = 30;     //扇形角度
    x     = 250;    //bar底顶点的横坐标
    y     = 250;    //bar底顶点的纵坐标

    d     = Math.sin(angle/2/180*Math.PI)*h; //边顶点到中轴的宽度
    dh    = Math.cos(angle/2/180*Math.PI)*h; //底顶点到中轴的高度
    x1    = x-d;    //扇形左边顶点
    y1    = y-dh;   //扇形左边顶点
    x2    = x+d;    //扇形右边顶点
    y2    = y-dh;   //扇形右边顶点




    $(function (){                              


        $("#p1").click(function (){
                d3.select("path").transition().duration(1000).attr("fill", "blue").attr("stroke","pink").attr("transform", "translate(0,30)");

                path = '<svg> <path id="try01" d="M'+x+','+y+' L'+x1+','+y1+' A'+ h +','+h + ' 0 0,1 ' + x2+','+y2 +'  Z" fill="pink" stroke="blue"/> </svg> '

                $("svg").first().after(path); 
           }       
        );
    });
    </script>


    <svg width="500" height="500" >       
      <path id="p1"    d="M250,200 h-150 v-150  a150,150 0 0,1 150,150 "
            fill="yellow" stroke="blue" stroke-width="5" />
      <path id="try01" d="M250,250     L224,153 A100,100 0 0,1 275,153 Z " fill="pink" stroke="blue"></path>
    </svg>



    <hr>
</body>
</html>